#include <stdio.h>
#include <time.h>
#include<locale.h>

int main() {
    setlocale(LC_ALL, "RUS");
    time_t t;
    struct tm* now;

    t = time(NULL);
    now = localtime(&t);

    printf("Сейчас: %02d:%02d\n", now->tm_hour, now->tm_min);
    printf("Дата: %02d.%02d.%d\n",
        now->tm_mday, now->tm_mon + 1, now->tm_year + 1900);

    printf("\n---\n\n");

    // Простой расчет до Нового года
    int current_month = now->tm_mon;  
    int current_day = now->tm_mday;   

    // Месяцев до Нового года (январь = 0)
    int months_to_ny = 11 - current_month;

    // Дней до конца месяца
    int days_in_month[] = { 31, 28, 31, 30, 31, 30,
                          31, 31, 30, 31, 30, 31 };
    int days_left_in_month = days_in_month[current_month] - current_day;

    // Вычитаем 1 день, так как считаем с завтрашнего дня
    if (days_left_in_month > 0) {
        days_left_in_month--;
    }

    printf("До нового года:\n");
    printf("  Месяцев: %d\n", months_to_ny);
    printf("  Дней в этом месяце: %d\n", days_left_in_month);

    return 0;
}
